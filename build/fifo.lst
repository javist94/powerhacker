ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fifo.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.fifo_copy_to,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	fifo_copy_to:
  26              	.LVL0:
  27              	.LFB8:
  28              		.file 1 "Core/Lib/fifo.c"
   1:Core/Lib/fifo.c **** /*	Generic FIFO buffer Implementation
   2:Core/Lib/fifo.c **** 	Copyright (C) 2014 Jesus Ruben Santa Anna Zamudio.
   3:Core/Lib/fifo.c **** 	This program is free software: you can redistribute it and/or modify
   4:Core/Lib/fifo.c **** 	it under the terms of the GNU General Public License as published by
   5:Core/Lib/fifo.c **** 	the Free Software Foundation, either version 3 of the License, or
   6:Core/Lib/fifo.c **** 	(at your option) any later version.
   7:Core/Lib/fifo.c **** 	This program is distributed in the hope that it will be useful,
   8:Core/Lib/fifo.c **** 	but WITHOUT ANY WARRANTY; without even the implied warranty of
   9:Core/Lib/fifo.c **** 	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  10:Core/Lib/fifo.c **** 	GNU General Public License for more details.
  11:Core/Lib/fifo.c **** 	You should have received a copy of the GNU General Public License
  12:Core/Lib/fifo.c **** 	along with this program.  If not, see <http://www.gnu.org/licenses/>.
  13:Core/Lib/fifo.c **** 	Author website: http://geekfactory.mx
  14:Core/Lib/fifo.c **** 	Author e-mail: ruben at geekfactory dot mx
  15:Core/Lib/fifo.c ****  */
  16:Core/Lib/fifo.c **** 
  17:Core/Lib/fifo.c **** #include "FIFO.h"
  18:Core/Lib/fifo.c **** 
  19:Core/Lib/fifo.c **** /*-------------------------------------------------------------*
  20:Core/Lib/fifo.c ****  *		Private function prototypes			*
  21:Core/Lib/fifo.c ****  *-------------------------------------------------------------*/
  22:Core/Lib/fifo.c **** static void fifo_copy_from(fifo_t, void *);
  23:Core/Lib/fifo.c **** static void fifo_copy_to(fifo_t, const void *);
  24:Core/Lib/fifo.c **** 
  25:Core/Lib/fifo.c **** /*-------------------------------------------------------------*
  26:Core/Lib/fifo.c ****  *		Public API implementation			*
  27:Core/Lib/fifo.c ****  *-------------------------------------------------------------*/
  28:Core/Lib/fifo.c **** fifo_t fifo_create(uint16_t count, size_t size)
  29:Core/Lib/fifo.c **** {
  30:Core/Lib/fifo.c **** 	fifo_t newfifo;
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 2


  31:Core/Lib/fifo.c **** 	if (count > 0) {
  32:Core/Lib/fifo.c **** 		newfifo = (struct fifo_descriptor *) malloc(sizeof(struct fifo_descriptor));
  33:Core/Lib/fifo.c **** 		if (newfifo != NULL) {
  34:Core/Lib/fifo.c **** 			// Calculate the size in bytes of the buffer
  35:Core/Lib/fifo.c **** 			size_t bsize = count * size;
  36:Core/Lib/fifo.c **** 			// Try to allocate space for the buffer data
  37:Core/Lib/fifo.c **** 			newfifo->itemspace = malloc(bsize);
  38:Core/Lib/fifo.c **** 			if (newfifo->itemspace != NULL) {
  39:Core/Lib/fifo.c **** 				// Initialize structure members
  40:Core/Lib/fifo.c **** 				newfifo->itemsize = size;
  41:Core/Lib/fifo.c **** 				newfifo->allocatedbytes = bsize;
  42:Core/Lib/fifo.c **** 				newfifo->readoffset = 0;
  43:Core/Lib/fifo.c **** 				newfifo->writeoffset = 0;
  44:Core/Lib/fifo.c **** 				newfifo->storedbytes = 0;
  45:Core/Lib/fifo.c **** 				// Return the pointer to fifo_descriptor structure
  46:Core/Lib/fifo.c **** 				return newfifo;
  47:Core/Lib/fifo.c **** 			} else {
  48:Core/Lib/fifo.c **** 				// Cannot allocate space for items, free struct resources
  49:Core/Lib/fifo.c **** 				free(newfifo);
  50:Core/Lib/fifo.c **** 			}
  51:Core/Lib/fifo.c **** 		}
  52:Core/Lib/fifo.c **** 	}
  53:Core/Lib/fifo.c **** 	// Return NULL if something fails
  54:Core/Lib/fifo.c **** 	return NULL;
  55:Core/Lib/fifo.c **** }
  56:Core/Lib/fifo.c **** 
  57:Core/Lib/fifo.c **** fifo_t fifo_create_static(fifo_t fifo, void * buf, uint16_t count, size_t size)
  58:Core/Lib/fifo.c **** {
  59:Core/Lib/fifo.c **** 	// Sanity check for memory and element sizes
  60:Core/Lib/fifo.c **** 	if (buf != NULL && fifo != NULL && count != 0) {
  61:Core/Lib/fifo.c **** 		fifo->itemspace = buf;
  62:Core/Lib/fifo.c **** 		fifo->itemsize = size;
  63:Core/Lib/fifo.c **** 		fifo->allocatedbytes = count * size;
  64:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
  65:Core/Lib/fifo.c **** 		fifo->writeoffset = 0;
  66:Core/Lib/fifo.c **** 		fifo->storedbytes = 0;
  67:Core/Lib/fifo.c **** 		return fifo;
  68:Core/Lib/fifo.c **** 	}
  69:Core/Lib/fifo.c **** 	return NULL;
  70:Core/Lib/fifo.c **** }
  71:Core/Lib/fifo.c **** 
  72:Core/Lib/fifo.c **** bool fifo_add(fifo_t fifo, const void * item)
  73:Core/Lib/fifo.c **** {
  74:Core/Lib/fifo.c **** 	if (!fifo_is_full(fifo)) {
  75:Core/Lib/fifo.c **** 		fifo_copy_to(fifo, item);
  76:Core/Lib/fifo.c **** 		fifo->storedbytes += fifo->itemsize;
  77:Core/Lib/fifo.c **** 		return true;
  78:Core/Lib/fifo.c **** 	} else {
  79:Core/Lib/fifo.c **** 		return false;
  80:Core/Lib/fifo.c **** 	}
  81:Core/Lib/fifo.c **** }
  82:Core/Lib/fifo.c **** 
  83:Core/Lib/fifo.c **** bool fifo_get(fifo_t fifo, void * item)
  84:Core/Lib/fifo.c **** {
  85:Core/Lib/fifo.c **** 	if (!fifo_is_empty(fifo)) {
  86:Core/Lib/fifo.c **** 		fifo_copy_from(fifo, item);
  87:Core/Lib/fifo.c **** 		fifo->storedbytes -= fifo->itemsize;
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 3


  88:Core/Lib/fifo.c **** 		return true;
  89:Core/Lib/fifo.c **** 	} else {
  90:Core/Lib/fifo.c **** 		return false;
  91:Core/Lib/fifo.c **** 	}
  92:Core/Lib/fifo.c **** }
  93:Core/Lib/fifo.c **** 
  94:Core/Lib/fifo.c **** bool fifo_is_full(fifo_t fifo)
  95:Core/Lib/fifo.c **** {
  96:Core/Lib/fifo.c **** 	if (fifo->storedbytes >= fifo->allocatedbytes)
  97:Core/Lib/fifo.c **** 		return true;
  98:Core/Lib/fifo.c **** 	else
  99:Core/Lib/fifo.c **** 		return false;
 100:Core/Lib/fifo.c **** }
 101:Core/Lib/fifo.c **** 
 102:Core/Lib/fifo.c **** bool fifo_is_empty(fifo_t fifo)
 103:Core/Lib/fifo.c **** {
 104:Core/Lib/fifo.c **** 	if (fifo->storedbytes == 0)
 105:Core/Lib/fifo.c **** 		return true;
 106:Core/Lib/fifo.c **** 	else
 107:Core/Lib/fifo.c **** 		return false;
 108:Core/Lib/fifo.c **** }
 109:Core/Lib/fifo.c **** 
 110:Core/Lib/fifo.c **** bool fifo_discard(fifo_t fifo, uint16_t count, enum fifo_side side)
 111:Core/Lib/fifo.c **** {
 112:Core/Lib/fifo.c **** 	uint16_t t;
 113:Core/Lib/fifo.c **** 	t = fifo->itemsize * count; // Compute byte size of elements to be deleted
 114:Core/Lib/fifo.c **** 	if (t <= fifo->storedbytes) // Check if we can remove the requested ammount of data
 115:Core/Lib/fifo.c **** 	{
 116:Core/Lib/fifo.c **** 		if (side == E_FIFO_FRONT) {
 117:Core/Lib/fifo.c **** 			fifo->readoffset = (fifo->readoffset + t) % fifo->allocatedbytes; // Increase read pointer n ele
 118:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 119:Core/Lib/fifo.c **** 		} else if (side == E_FIFO_BACK) {
 120:Core/Lib/fifo.c **** 			fifo->writeoffset = (fifo->writeoffset - t) % fifo->allocatedbytes; // Decrease write pointer n 
 121:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 122:Core/Lib/fifo.c **** 		}
 123:Core/Lib/fifo.c **** 		return true;
 124:Core/Lib/fifo.c **** 	}
 125:Core/Lib/fifo.c **** 	return false;
 126:Core/Lib/fifo.c **** }
 127:Core/Lib/fifo.c **** 
 128:Core/Lib/fifo.c **** static void fifo_copy_from(fifo_t fifo, void * item)
 129:Core/Lib/fifo.c **** {
 130:Core/Lib/fifo.c **** 	memcpy(item, fifo->itemspace + fifo->readoffset, fifo->itemsize);
 131:Core/Lib/fifo.c **** 	fifo->readoffset += fifo->itemsize;
 132:Core/Lib/fifo.c **** 	if (fifo->readoffset >= fifo->allocatedbytes) {
 133:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 134:Core/Lib/fifo.c **** 	}
 135:Core/Lib/fifo.c **** }
 136:Core/Lib/fifo.c **** 
 137:Core/Lib/fifo.c **** static void fifo_copy_to(fifo_t fifo, const void *item)
 138:Core/Lib/fifo.c **** {
  29              		.loc 1 138 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 138 1 is_stmt 0 view .LVU1
  34 0000 10B5     		push	{r4, lr}
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 4


  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39 0002 0446     		mov	r4, r0
 139:Core/Lib/fifo.c **** 	memcpy(fifo->itemspace + fifo->writeoffset, item, fifo->itemsize);
  40              		.loc 1 139 2 is_stmt 1 view .LVU2
  41              		.loc 1 139 13 is_stmt 0 view .LVU3
  42 0004 0368     		ldr	r3, [r0]
  43              		.loc 1 139 31 view .LVU4
  44 0006 C089     		ldrh	r0, [r0, #14]
  45              	.LVL1:
  46              		.loc 1 139 2 view .LVU5
  47 0008 6268     		ldr	r2, [r4, #4]
  48 000a 13FA80F0 		uxtah	r0, r3, r0
  49 000e FFF7FEFF 		bl	memcpy
  50              	.LVL2:
 140:Core/Lib/fifo.c **** 	fifo->writeoffset += fifo->itemsize;
  51              		.loc 1 140 2 is_stmt 1 view .LVU6
  52              		.loc 1 140 20 is_stmt 0 view .LVU7
  53 0012 E389     		ldrh	r3, [r4, #14]
  54              		.loc 1 140 27 view .LVU8
  55 0014 6268     		ldr	r2, [r4, #4]
  56              		.loc 1 140 20 view .LVU9
  57 0016 12FA83F3 		uxtah	r3, r2, r3
  58 001a 9BB2     		uxth	r3, r3
  59 001c E381     		strh	r3, [r4, #14]	@ movhi
 141:Core/Lib/fifo.c **** 	if (fifo->writeoffset >= fifo->allocatedbytes) {
  60              		.loc 1 141 2 is_stmt 1 view .LVU10
  61              		.loc 1 141 10 is_stmt 0 view .LVU11
  62 001e E389     		ldrh	r3, [r4, #14]
  63 0020 9BB2     		uxth	r3, r3
  64              		.loc 1 141 31 view .LVU12
  65 0022 A268     		ldr	r2, [r4, #8]
  66              		.loc 1 141 5 view .LVU13
  67 0024 9342     		cmp	r3, r2
  68 0026 01D3     		bcc	.L1
 142:Core/Lib/fifo.c **** 		fifo->writeoffset = 0;
  69              		.loc 1 142 3 is_stmt 1 view .LVU14
  70              		.loc 1 142 21 is_stmt 0 view .LVU15
  71 0028 0023     		movs	r3, #0
  72 002a E381     		strh	r3, [r4, #14]	@ movhi
  73              	.L1:
 143:Core/Lib/fifo.c **** 	}
 144:Core/Lib/fifo.c **** }
  74              		.loc 1 144 1 view .LVU16
  75 002c 10BD     		pop	{r4, pc}
  76              		.loc 1 144 1 view .LVU17
  77              		.cfi_endproc
  78              	.LFE8:
  80              		.section	.text.fifo_copy_from,"ax",%progbits
  81              		.align	1
  82              		.syntax unified
  83              		.thumb
  84              		.thumb_func
  85              		.fpu fpv4-sp-d16
  87              	fifo_copy_from:
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 5


  88              	.LVL3:
  89              	.LFB7:
 129:Core/Lib/fifo.c **** 	memcpy(item, fifo->itemspace + fifo->readoffset, fifo->itemsize);
  90              		.loc 1 129 1 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 0
  93              		@ frame_needed = 0, uses_anonymous_args = 0
 129:Core/Lib/fifo.c **** 	memcpy(item, fifo->itemspace + fifo->readoffset, fifo->itemsize);
  94              		.loc 1 129 1 is_stmt 0 view .LVU19
  95 0000 10B5     		push	{r4, lr}
  96              	.LCFI1:
  97              		.cfi_def_cfa_offset 8
  98              		.cfi_offset 4, -8
  99              		.cfi_offset 14, -4
 100 0002 0446     		mov	r4, r0
 101 0004 0846     		mov	r0, r1
 102              	.LVL4:
 130:Core/Lib/fifo.c **** 	fifo->readoffset += fifo->itemsize;
 103              		.loc 1 130 2 is_stmt 1 view .LVU20
 130:Core/Lib/fifo.c **** 	fifo->readoffset += fifo->itemsize;
 104              		.loc 1 130 19 is_stmt 0 view .LVU21
 105 0006 2368     		ldr	r3, [r4]
 130:Core/Lib/fifo.c **** 	fifo->readoffset += fifo->itemsize;
 106              		.loc 1 130 37 view .LVU22
 107 0008 A189     		ldrh	r1, [r4, #12]
 108              	.LVL5:
 130:Core/Lib/fifo.c **** 	fifo->readoffset += fifo->itemsize;
 109              		.loc 1 130 2 view .LVU23
 110 000a 6268     		ldr	r2, [r4, #4]
 111 000c 13FA81F1 		uxtah	r1, r3, r1
 112 0010 FFF7FEFF 		bl	memcpy
 113              	.LVL6:
 131:Core/Lib/fifo.c **** 	if (fifo->readoffset >= fifo->allocatedbytes) {
 114              		.loc 1 131 2 is_stmt 1 view .LVU24
 131:Core/Lib/fifo.c **** 	if (fifo->readoffset >= fifo->allocatedbytes) {
 115              		.loc 1 131 19 is_stmt 0 view .LVU25
 116 0014 A389     		ldrh	r3, [r4, #12]
 131:Core/Lib/fifo.c **** 	if (fifo->readoffset >= fifo->allocatedbytes) {
 117              		.loc 1 131 26 view .LVU26
 118 0016 6268     		ldr	r2, [r4, #4]
 131:Core/Lib/fifo.c **** 	if (fifo->readoffset >= fifo->allocatedbytes) {
 119              		.loc 1 131 19 view .LVU27
 120 0018 12FA83F3 		uxtah	r3, r2, r3
 121 001c 9BB2     		uxth	r3, r3
 122 001e A381     		strh	r3, [r4, #12]	@ movhi
 132:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 123              		.loc 1 132 2 is_stmt 1 view .LVU28
 132:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 124              		.loc 1 132 10 is_stmt 0 view .LVU29
 125 0020 A389     		ldrh	r3, [r4, #12]
 126 0022 9BB2     		uxth	r3, r3
 132:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 127              		.loc 1 132 30 view .LVU30
 128 0024 A268     		ldr	r2, [r4, #8]
 132:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 129              		.loc 1 132 5 view .LVU31
 130 0026 9342     		cmp	r3, r2
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 6


 131 0028 01D3     		bcc	.L4
 133:Core/Lib/fifo.c **** 	}
 132              		.loc 1 133 3 is_stmt 1 view .LVU32
 133:Core/Lib/fifo.c **** 	}
 133              		.loc 1 133 20 is_stmt 0 view .LVU33
 134 002a 0023     		movs	r3, #0
 135 002c A381     		strh	r3, [r4, #12]	@ movhi
 136              	.L4:
 135:Core/Lib/fifo.c **** 
 137              		.loc 1 135 1 view .LVU34
 138 002e 10BD     		pop	{r4, pc}
 135:Core/Lib/fifo.c **** 
 139              		.loc 1 135 1 view .LVU35
 140              		.cfi_endproc
 141              	.LFE7:
 143              		.section	.text.fifo_create,"ax",%progbits
 144              		.align	1
 145              		.global	fifo_create
 146              		.syntax unified
 147              		.thumb
 148              		.thumb_func
 149              		.fpu fpv4-sp-d16
 151              	fifo_create:
 152              	.LVL7:
 153              	.LFB0:
  29:Core/Lib/fifo.c **** 	fifo_t newfifo;
 154              		.loc 1 29 1 is_stmt 1 view -0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 0
 157              		@ frame_needed = 0, uses_anonymous_args = 0
  29:Core/Lib/fifo.c **** 	fifo_t newfifo;
 158              		.loc 1 29 1 is_stmt 0 view .LVU37
 159 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 160              	.LCFI2:
 161              		.cfi_def_cfa_offset 24
 162              		.cfi_offset 3, -24
 163              		.cfi_offset 4, -20
 164              		.cfi_offset 5, -16
 165              		.cfi_offset 6, -12
 166              		.cfi_offset 7, -8
 167              		.cfi_offset 14, -4
  30:Core/Lib/fifo.c **** 	if (count > 0) {
 168              		.loc 1 30 2 is_stmt 1 view .LVU38
  31:Core/Lib/fifo.c **** 		newfifo = (struct fifo_descriptor *) malloc(sizeof(struct fifo_descriptor));
 169              		.loc 1 31 2 view .LVU39
  31:Core/Lib/fifo.c **** 		newfifo = (struct fifo_descriptor *) malloc(sizeof(struct fifo_descriptor));
 170              		.loc 1 31 5 is_stmt 0 view .LVU40
 171 0002 D8B1     		cbz	r0, .L10
 172 0004 0D46     		mov	r5, r1
 173 0006 0646     		mov	r6, r0
  32:Core/Lib/fifo.c **** 		if (newfifo != NULL) {
 174              		.loc 1 32 3 is_stmt 1 view .LVU41
  32:Core/Lib/fifo.c **** 		if (newfifo != NULL) {
 175              		.loc 1 32 40 is_stmt 0 view .LVU42
 176 0008 1420     		movs	r0, #20
 177              	.LVL8:
  32:Core/Lib/fifo.c **** 		if (newfifo != NULL) {
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 7


 178              		.loc 1 32 40 view .LVU43
 179 000a FFF7FEFF 		bl	malloc
 180              	.LVL9:
  33:Core/Lib/fifo.c **** 			// Calculate the size in bytes of the buffer
 181              		.loc 1 33 3 is_stmt 1 view .LVU44
  33:Core/Lib/fifo.c **** 			// Calculate the size in bytes of the buffer
 182              		.loc 1 33 6 is_stmt 0 view .LVU45
 183 000e 0446     		mov	r4, r0
 184 0010 68B1     		cbz	r0, .L7
 185              	.LBB2:
  35:Core/Lib/fifo.c **** 			// Try to allocate space for the buffer data
 186              		.loc 1 35 4 is_stmt 1 view .LVU46
  35:Core/Lib/fifo.c **** 			// Try to allocate space for the buffer data
 187              		.loc 1 35 11 is_stmt 0 view .LVU47
 188 0012 05FB06F6 		mul	r6, r5, r6
 189              	.LVL10:
  37:Core/Lib/fifo.c **** 			if (newfifo->itemspace != NULL) {
 190              		.loc 1 37 4 is_stmt 1 view .LVU48
  37:Core/Lib/fifo.c **** 			if (newfifo->itemspace != NULL) {
 191              		.loc 1 37 25 is_stmt 0 view .LVU49
 192 0016 3046     		mov	r0, r6
 193              	.LVL11:
  37:Core/Lib/fifo.c **** 			if (newfifo->itemspace != NULL) {
 194              		.loc 1 37 25 view .LVU50
 195 0018 FFF7FEFF 		bl	malloc
 196              	.LVL12:
 197 001c 0746     		mov	r7, r0
  37:Core/Lib/fifo.c **** 			if (newfifo->itemspace != NULL) {
 198              		.loc 1 37 23 view .LVU51
 199 001e 2060     		str	r0, [r4]
  38:Core/Lib/fifo.c **** 				// Initialize structure members
 200              		.loc 1 38 4 is_stmt 1 view .LVU52
  38:Core/Lib/fifo.c **** 				// Initialize structure members
 201              		.loc 1 38 7 is_stmt 0 view .LVU53
 202 0020 38B1     		cbz	r0, .L9
  40:Core/Lib/fifo.c **** 				newfifo->allocatedbytes = bsize;
 203              		.loc 1 40 5 is_stmt 1 view .LVU54
  40:Core/Lib/fifo.c **** 				newfifo->allocatedbytes = bsize;
 204              		.loc 1 40 23 is_stmt 0 view .LVU55
 205 0022 6560     		str	r5, [r4, #4]
  41:Core/Lib/fifo.c **** 				newfifo->readoffset = 0;
 206              		.loc 1 41 5 is_stmt 1 view .LVU56
  41:Core/Lib/fifo.c **** 				newfifo->readoffset = 0;
 207              		.loc 1 41 29 is_stmt 0 view .LVU57
 208 0024 A660     		str	r6, [r4, #8]
  42:Core/Lib/fifo.c **** 				newfifo->writeoffset = 0;
 209              		.loc 1 42 5 is_stmt 1 view .LVU58
  42:Core/Lib/fifo.c **** 				newfifo->writeoffset = 0;
 210              		.loc 1 42 25 is_stmt 0 view .LVU59
 211 0026 0023     		movs	r3, #0
 212 0028 A381     		strh	r3, [r4, #12]	@ movhi
  43:Core/Lib/fifo.c **** 				newfifo->storedbytes = 0;
 213              		.loc 1 43 5 is_stmt 1 view .LVU60
  43:Core/Lib/fifo.c **** 				newfifo->storedbytes = 0;
 214              		.loc 1 43 26 is_stmt 0 view .LVU61
 215 002a E381     		strh	r3, [r4, #14]	@ movhi
  44:Core/Lib/fifo.c **** 				// Return the pointer to fifo_descriptor structure
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 8


 216              		.loc 1 44 5 is_stmt 1 view .LVU62
  44:Core/Lib/fifo.c **** 				// Return the pointer to fifo_descriptor structure
 217              		.loc 1 44 26 is_stmt 0 view .LVU63
 218 002c 2361     		str	r3, [r4, #16]
  46:Core/Lib/fifo.c **** 			} else {
 219              		.loc 1 46 5 is_stmt 1 view .LVU64
 220              	.LVL13:
 221              	.L7:
  46:Core/Lib/fifo.c **** 			} else {
 222              		.loc 1 46 5 is_stmt 0 view .LVU65
 223              	.LBE2:
  55:Core/Lib/fifo.c **** 
 224              		.loc 1 55 1 view .LVU66
 225 002e 2046     		mov	r0, r4
 226 0030 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 227              	.LVL14:
 228              	.L9:
 229              	.LBB3:
  49:Core/Lib/fifo.c **** 			}
 230              		.loc 1 49 5 is_stmt 1 view .LVU67
 231 0032 2046     		mov	r0, r4
 232 0034 FFF7FEFF 		bl	free
 233              	.LVL15:
 234              	.LBE3:
  54:Core/Lib/fifo.c **** }
 235              		.loc 1 54 9 is_stmt 0 view .LVU68
 236 0038 3C46     		mov	r4, r7
 237              	.LVL16:
  54:Core/Lib/fifo.c **** }
 238              		.loc 1 54 9 view .LVU69
 239 003a F8E7     		b	.L7
 240              	.LVL17:
 241              	.L10:
  54:Core/Lib/fifo.c **** }
 242              		.loc 1 54 9 view .LVU70
 243 003c 0024     		movs	r4, #0
 244 003e F6E7     		b	.L7
 245              		.cfi_endproc
 246              	.LFE0:
 248              		.section	.text.fifo_create_static,"ax",%progbits
 249              		.align	1
 250              		.global	fifo_create_static
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv4-sp-d16
 256              	fifo_create_static:
 257              	.LVL18:
 258              	.LFB1:
  58:Core/Lib/fifo.c **** 	// Sanity check for memory and element sizes
 259              		.loc 1 58 1 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263              		@ link register save eliminated.
  58:Core/Lib/fifo.c **** 	// Sanity check for memory and element sizes
 264              		.loc 1 58 1 is_stmt 0 view .LVU72
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 9


 265 0000 10B4     		push	{r4}
 266              	.LCFI3:
 267              		.cfi_def_cfa_offset 4
 268              		.cfi_offset 4, -4
  60:Core/Lib/fifo.c **** 		fifo->itemspace = buf;
 269              		.loc 1 60 2 is_stmt 1 view .LVU73
  60:Core/Lib/fifo.c **** 		fifo->itemspace = buf;
 270              		.loc 1 60 5 is_stmt 0 view .LVU74
 271 0002 69B1     		cbz	r1, .L14
  60:Core/Lib/fifo.c **** 		fifo->itemspace = buf;
 272              		.loc 1 60 18 discriminator 1 view .LVU75
 273 0004 48B1     		cbz	r0, .L12
  60:Core/Lib/fifo.c **** 		fifo->itemspace = buf;
 274              		.loc 1 60 34 discriminator 2 view .LVU76
 275 0006 6AB1     		cbz	r2, .L16
  61:Core/Lib/fifo.c **** 		fifo->itemsize = size;
 276              		.loc 1 61 3 is_stmt 1 view .LVU77
  61:Core/Lib/fifo.c **** 		fifo->itemsize = size;
 277              		.loc 1 61 19 is_stmt 0 view .LVU78
 278 0008 0160     		str	r1, [r0]
  62:Core/Lib/fifo.c **** 		fifo->allocatedbytes = count * size;
 279              		.loc 1 62 3 is_stmt 1 view .LVU79
  62:Core/Lib/fifo.c **** 		fifo->allocatedbytes = count * size;
 280              		.loc 1 62 18 is_stmt 0 view .LVU80
 281 000a 4360     		str	r3, [r0, #4]
  63:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 282              		.loc 1 63 3 is_stmt 1 view .LVU81
  63:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 283              		.loc 1 63 32 is_stmt 0 view .LVU82
 284 000c 03FB02F3 		mul	r3, r3, r2
 285              	.LVL19:
  63:Core/Lib/fifo.c **** 		fifo->readoffset = 0;
 286              		.loc 1 63 24 view .LVU83
 287 0010 8360     		str	r3, [r0, #8]
  64:Core/Lib/fifo.c **** 		fifo->writeoffset = 0;
 288              		.loc 1 64 3 is_stmt 1 view .LVU84
  64:Core/Lib/fifo.c **** 		fifo->writeoffset = 0;
 289              		.loc 1 64 20 is_stmt 0 view .LVU85
 290 0012 0023     		movs	r3, #0
 291 0014 8381     		strh	r3, [r0, #12]	@ movhi
  65:Core/Lib/fifo.c **** 		fifo->storedbytes = 0;
 292              		.loc 1 65 3 is_stmt 1 view .LVU86
  65:Core/Lib/fifo.c **** 		fifo->storedbytes = 0;
 293              		.loc 1 65 21 is_stmt 0 view .LVU87
 294 0016 C381     		strh	r3, [r0, #14]	@ movhi
  66:Core/Lib/fifo.c **** 		return fifo;
 295              		.loc 1 66 3 is_stmt 1 view .LVU88
  66:Core/Lib/fifo.c **** 		return fifo;
 296              		.loc 1 66 21 is_stmt 0 view .LVU89
 297 0018 0361     		str	r3, [r0, #16]
  67:Core/Lib/fifo.c **** 	}
 298              		.loc 1 67 3 is_stmt 1 view .LVU90
 299              	.LVL20:
 300              	.L12:
  70:Core/Lib/fifo.c **** 
 301              		.loc 1 70 1 is_stmt 0 view .LVU91
 302 001a 5DF8044B 		ldr	r4, [sp], #4
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 10


 303              	.LCFI4:
 304              		.cfi_remember_state
 305              		.cfi_restore 4
 306              		.cfi_def_cfa_offset 0
 307 001e 7047     		bx	lr
 308              	.LVL21:
 309              	.L14:
 310              	.LCFI5:
 311              		.cfi_restore_state
  69:Core/Lib/fifo.c **** }
 312              		.loc 1 69 9 view .LVU92
 313 0020 0846     		mov	r0, r1
 314              	.LVL22:
  69:Core/Lib/fifo.c **** }
 315              		.loc 1 69 9 view .LVU93
 316 0022 FAE7     		b	.L12
 317              	.LVL23:
 318              	.L16:
  69:Core/Lib/fifo.c **** }
 319              		.loc 1 69 9 view .LVU94
 320 0024 0020     		movs	r0, #0
 321              	.LVL24:
  69:Core/Lib/fifo.c **** }
 322              		.loc 1 69 9 view .LVU95
 323 0026 F8E7     		b	.L12
 324              		.cfi_endproc
 325              	.LFE1:
 327              		.section	.text.fifo_is_full,"ax",%progbits
 328              		.align	1
 329              		.global	fifo_is_full
 330              		.syntax unified
 331              		.thumb
 332              		.thumb_func
 333              		.fpu fpv4-sp-d16
 335              	fifo_is_full:
 336              	.LVL25:
 337              	.LFB4:
  95:Core/Lib/fifo.c **** 	if (fifo->storedbytes >= fifo->allocatedbytes)
 338              		.loc 1 95 1 is_stmt 1 view -0
 339              		.cfi_startproc
 340              		@ args = 0, pretend = 0, frame = 0
 341              		@ frame_needed = 0, uses_anonymous_args = 0
 342              		@ link register save eliminated.
  96:Core/Lib/fifo.c **** 		return true;
 343              		.loc 1 96 2 view .LVU97
  96:Core/Lib/fifo.c **** 		return true;
 344              		.loc 1 96 10 is_stmt 0 view .LVU98
 345 0000 0269     		ldr	r2, [r0, #16]
  96:Core/Lib/fifo.c **** 		return true;
 346              		.loc 1 96 31 view .LVU99
 347 0002 8368     		ldr	r3, [r0, #8]
  96:Core/Lib/fifo.c **** 		return true;
 348              		.loc 1 96 5 view .LVU100
 349 0004 9A42     		cmp	r2, r3
 350 0006 01D3     		bcc	.L20
  97:Core/Lib/fifo.c **** 	else
 351              		.loc 1 97 10 view .LVU101
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 11


 352 0008 0120     		movs	r0, #1
 353              	.LVL26:
  97:Core/Lib/fifo.c **** 	else
 354              		.loc 1 97 10 view .LVU102
 355 000a 7047     		bx	lr
 356              	.LVL27:
 357              	.L20:
  99:Core/Lib/fifo.c **** }
 358              		.loc 1 99 10 view .LVU103
 359 000c 0020     		movs	r0, #0
 360              	.LVL28:
 100:Core/Lib/fifo.c **** 
 361              		.loc 1 100 1 view .LVU104
 362 000e 7047     		bx	lr
 363              		.cfi_endproc
 364              	.LFE4:
 366              		.section	.text.fifo_add,"ax",%progbits
 367              		.align	1
 368              		.global	fifo_add
 369              		.syntax unified
 370              		.thumb
 371              		.thumb_func
 372              		.fpu fpv4-sp-d16
 374              	fifo_add:
 375              	.LVL29:
 376              	.LFB2:
  73:Core/Lib/fifo.c **** 	if (!fifo_is_full(fifo)) {
 377              		.loc 1 73 1 is_stmt 1 view -0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
  73:Core/Lib/fifo.c **** 	if (!fifo_is_full(fifo)) {
 381              		.loc 1 73 1 is_stmt 0 view .LVU106
 382 0000 38B5     		push	{r3, r4, r5, lr}
 383              	.LCFI6:
 384              		.cfi_def_cfa_offset 16
 385              		.cfi_offset 3, -16
 386              		.cfi_offset 4, -12
 387              		.cfi_offset 5, -8
 388              		.cfi_offset 14, -4
 389 0002 0446     		mov	r4, r0
 390 0004 0D46     		mov	r5, r1
  74:Core/Lib/fifo.c **** 		fifo_copy_to(fifo, item);
 391              		.loc 1 74 2 is_stmt 1 view .LVU107
  74:Core/Lib/fifo.c **** 		fifo_copy_to(fifo, item);
 392              		.loc 1 74 7 is_stmt 0 view .LVU108
 393 0006 FFF7FEFF 		bl	fifo_is_full
 394              	.LVL30:
  74:Core/Lib/fifo.c **** 		fifo_copy_to(fifo, item);
 395              		.loc 1 74 5 view .LVU109
 396 000a 08B1     		cbz	r0, .L25
  79:Core/Lib/fifo.c **** 	}
 397              		.loc 1 79 10 view .LVU110
 398 000c 0020     		movs	r0, #0
 399              	.L22:
  81:Core/Lib/fifo.c **** 
 400              		.loc 1 81 1 view .LVU111
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 12


 401 000e 38BD     		pop	{r3, r4, r5, pc}
 402              	.LVL31:
 403              	.L25:
  75:Core/Lib/fifo.c **** 		fifo->storedbytes += fifo->itemsize;
 404              		.loc 1 75 3 is_stmt 1 view .LVU112
 405 0010 2946     		mov	r1, r5
 406 0012 2046     		mov	r0, r4
 407 0014 FFF7FEFF 		bl	fifo_copy_to
 408              	.LVL32:
  76:Core/Lib/fifo.c **** 		return true;
 409              		.loc 1 76 3 view .LVU113
  76:Core/Lib/fifo.c **** 		return true;
 410              		.loc 1 76 21 is_stmt 0 view .LVU114
 411 0018 2369     		ldr	r3, [r4, #16]
  76:Core/Lib/fifo.c **** 		return true;
 412              		.loc 1 76 28 view .LVU115
 413 001a 6268     		ldr	r2, [r4, #4]
  76:Core/Lib/fifo.c **** 		return true;
 414              		.loc 1 76 21 view .LVU116
 415 001c 1344     		add	r3, r3, r2
 416 001e 2361     		str	r3, [r4, #16]
  77:Core/Lib/fifo.c **** 	} else {
 417              		.loc 1 77 3 is_stmt 1 view .LVU117
  77:Core/Lib/fifo.c **** 	} else {
 418              		.loc 1 77 10 is_stmt 0 view .LVU118
 419 0020 0120     		movs	r0, #1
 420 0022 F4E7     		b	.L22
 421              		.cfi_endproc
 422              	.LFE2:
 424              		.section	.text.fifo_is_empty,"ax",%progbits
 425              		.align	1
 426              		.global	fifo_is_empty
 427              		.syntax unified
 428              		.thumb
 429              		.thumb_func
 430              		.fpu fpv4-sp-d16
 432              	fifo_is_empty:
 433              	.LVL33:
 434              	.LFB5:
 103:Core/Lib/fifo.c **** 	if (fifo->storedbytes == 0)
 435              		.loc 1 103 1 is_stmt 1 view -0
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 0
 438              		@ frame_needed = 0, uses_anonymous_args = 0
 439              		@ link register save eliminated.
 104:Core/Lib/fifo.c **** 		return true;
 440              		.loc 1 104 2 view .LVU120
 104:Core/Lib/fifo.c **** 		return true;
 441              		.loc 1 104 10 is_stmt 0 view .LVU121
 442 0000 0369     		ldr	r3, [r0, #16]
 104:Core/Lib/fifo.c **** 		return true;
 443              		.loc 1 104 5 view .LVU122
 444 0002 0BB9     		cbnz	r3, .L28
 105:Core/Lib/fifo.c **** 	else
 445              		.loc 1 105 10 view .LVU123
 446 0004 0120     		movs	r0, #1
 447              	.LVL34:
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 13


 105:Core/Lib/fifo.c **** 	else
 448              		.loc 1 105 10 view .LVU124
 449 0006 7047     		bx	lr
 450              	.LVL35:
 451              	.L28:
 107:Core/Lib/fifo.c **** }
 452              		.loc 1 107 10 view .LVU125
 453 0008 0020     		movs	r0, #0
 454              	.LVL36:
 108:Core/Lib/fifo.c **** 
 455              		.loc 1 108 1 view .LVU126
 456 000a 7047     		bx	lr
 457              		.cfi_endproc
 458              	.LFE5:
 460              		.section	.text.fifo_get,"ax",%progbits
 461              		.align	1
 462              		.global	fifo_get
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
 466              		.fpu fpv4-sp-d16
 468              	fifo_get:
 469              	.LVL37:
 470              	.LFB3:
  84:Core/Lib/fifo.c **** 	if (!fifo_is_empty(fifo)) {
 471              		.loc 1 84 1 is_stmt 1 view -0
 472              		.cfi_startproc
 473              		@ args = 0, pretend = 0, frame = 0
 474              		@ frame_needed = 0, uses_anonymous_args = 0
  84:Core/Lib/fifo.c **** 	if (!fifo_is_empty(fifo)) {
 475              		.loc 1 84 1 is_stmt 0 view .LVU128
 476 0000 38B5     		push	{r3, r4, r5, lr}
 477              	.LCFI7:
 478              		.cfi_def_cfa_offset 16
 479              		.cfi_offset 3, -16
 480              		.cfi_offset 4, -12
 481              		.cfi_offset 5, -8
 482              		.cfi_offset 14, -4
 483 0002 0446     		mov	r4, r0
 484 0004 0D46     		mov	r5, r1
  85:Core/Lib/fifo.c **** 		fifo_copy_from(fifo, item);
 485              		.loc 1 85 2 is_stmt 1 view .LVU129
  85:Core/Lib/fifo.c **** 		fifo_copy_from(fifo, item);
 486              		.loc 1 85 7 is_stmt 0 view .LVU130
 487 0006 FFF7FEFF 		bl	fifo_is_empty
 488              	.LVL38:
  85:Core/Lib/fifo.c **** 		fifo_copy_from(fifo, item);
 489              		.loc 1 85 5 view .LVU131
 490 000a 08B1     		cbz	r0, .L33
  90:Core/Lib/fifo.c **** 	}
 491              		.loc 1 90 10 view .LVU132
 492 000c 0020     		movs	r0, #0
 493              	.L30:
  92:Core/Lib/fifo.c **** 
 494              		.loc 1 92 1 view .LVU133
 495 000e 38BD     		pop	{r3, r4, r5, pc}
 496              	.LVL39:
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 14


 497              	.L33:
  86:Core/Lib/fifo.c **** 		fifo->storedbytes -= fifo->itemsize;
 498              		.loc 1 86 3 is_stmt 1 view .LVU134
 499 0010 2946     		mov	r1, r5
 500 0012 2046     		mov	r0, r4
 501 0014 FFF7FEFF 		bl	fifo_copy_from
 502              	.LVL40:
  87:Core/Lib/fifo.c **** 		return true;
 503              		.loc 1 87 3 view .LVU135
  87:Core/Lib/fifo.c **** 		return true;
 504              		.loc 1 87 21 is_stmt 0 view .LVU136
 505 0018 2369     		ldr	r3, [r4, #16]
  87:Core/Lib/fifo.c **** 		return true;
 506              		.loc 1 87 28 view .LVU137
 507 001a 6268     		ldr	r2, [r4, #4]
  87:Core/Lib/fifo.c **** 		return true;
 508              		.loc 1 87 21 view .LVU138
 509 001c 9B1A     		subs	r3, r3, r2
 510 001e 2361     		str	r3, [r4, #16]
  88:Core/Lib/fifo.c **** 	} else {
 511              		.loc 1 88 3 is_stmt 1 view .LVU139
  88:Core/Lib/fifo.c **** 	} else {
 512              		.loc 1 88 10 is_stmt 0 view .LVU140
 513 0020 0120     		movs	r0, #1
 514 0022 F4E7     		b	.L30
 515              		.cfi_endproc
 516              	.LFE3:
 518              		.section	.text.fifo_discard,"ax",%progbits
 519              		.align	1
 520              		.global	fifo_discard
 521              		.syntax unified
 522              		.thumb
 523              		.thumb_func
 524              		.fpu fpv4-sp-d16
 526              	fifo_discard:
 527              	.LVL41:
 528              	.LFB6:
 111:Core/Lib/fifo.c **** 	uint16_t t;
 529              		.loc 1 111 1 is_stmt 1 view -0
 530              		.cfi_startproc
 531              		@ args = 0, pretend = 0, frame = 0
 532              		@ frame_needed = 0, uses_anonymous_args = 0
 533              		@ link register save eliminated.
 112:Core/Lib/fifo.c **** 	t = fifo->itemsize * count; // Compute byte size of elements to be deleted
 534              		.loc 1 112 2 view .LVU142
 113:Core/Lib/fifo.c **** 	if (t <= fifo->storedbytes) // Check if we can remove the requested ammount of data
 535              		.loc 1 113 2 view .LVU143
 113:Core/Lib/fifo.c **** 	if (t <= fifo->storedbytes) // Check if we can remove the requested ammount of data
 536              		.loc 1 113 10 is_stmt 0 view .LVU144
 537 0000 4368     		ldr	r3, [r0, #4]
 113:Core/Lib/fifo.c **** 	if (t <= fifo->storedbytes) // Check if we can remove the requested ammount of data
 538              		.loc 1 113 4 view .LVU145
 539 0002 13FB01F1 		smulbb	r1, r3, r1
 540              	.LVL42:
 113:Core/Lib/fifo.c **** 	if (t <= fifo->storedbytes) // Check if we can remove the requested ammount of data
 541              		.loc 1 113 4 view .LVU146
 542 0006 89B2     		uxth	r1, r1
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 15


 543              	.LVL43:
 114:Core/Lib/fifo.c **** 	{
 544              		.loc 1 114 2 is_stmt 1 view .LVU147
 114:Core/Lib/fifo.c **** 	{
 545              		.loc 1 114 15 is_stmt 0 view .LVU148
 546 0008 0369     		ldr	r3, [r0, #16]
 114:Core/Lib/fifo.c **** 	{
 547              		.loc 1 114 5 view .LVU149
 548 000a 9942     		cmp	r1, r3
 549 000c 01D9     		bls	.L43
 125:Core/Lib/fifo.c **** }
 550              		.loc 1 125 9 view .LVU150
 551 000e 0020     		movs	r0, #0
 552              	.LVL44:
 126:Core/Lib/fifo.c **** 
 553              		.loc 1 126 1 view .LVU151
 554 0010 7047     		bx	lr
 555              	.LVL45:
 556              	.L43:
 111:Core/Lib/fifo.c **** 	uint16_t t;
 557              		.loc 1 111 1 view .LVU152
 558 0012 10B4     		push	{r4}
 559              	.LCFI8:
 560              		.cfi_def_cfa_offset 4
 561              		.cfi_offset 4, -4
 116:Core/Lib/fifo.c **** 			fifo->readoffset = (fifo->readoffset + t) % fifo->allocatedbytes; // Increase read pointer n ele
 562              		.loc 1 116 3 is_stmt 1 view .LVU153
 116:Core/Lib/fifo.c **** 			fifo->readoffset = (fifo->readoffset + t) % fifo->allocatedbytes; // Increase read pointer n ele
 563              		.loc 1 116 6 is_stmt 0 view .LVU154
 564 0014 82B9     		cbnz	r2, .L36
 117:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 565              		.loc 1 117 4 is_stmt 1 view .LVU155
 117:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 566              		.loc 1 117 28 is_stmt 0 view .LVU156
 567 0016 8389     		ldrh	r3, [r0, #12]
 117:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 568              		.loc 1 117 41 view .LVU157
 569 0018 11FA83F2 		uxtah	r2, r1, r3
 570              	.LVL46:
 117:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 571              		.loc 1 117 52 view .LVU158
 572 001c 8468     		ldr	r4, [r0, #8]
 117:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 573              		.loc 1 117 46 view .LVU159
 574 001e B2FBF4F3 		udiv	r3, r2, r4
 575 0022 04FB1323 		mls	r3, r4, r3, r2
 117:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 576              		.loc 1 117 21 view .LVU160
 577 0026 9BB2     		uxth	r3, r3
 578 0028 8381     		strh	r3, [r0, #12]	@ movhi
 118:Core/Lib/fifo.c **** 		} else if (side == E_FIFO_BACK) {
 579              		.loc 1 118 4 is_stmt 1 view .LVU161
 118:Core/Lib/fifo.c **** 		} else if (side == E_FIFO_BACK) {
 580              		.loc 1 118 22 is_stmt 0 view .LVU162
 581 002a 0369     		ldr	r3, [r0, #16]
 582 002c 591A     		subs	r1, r3, r1
 583              	.LVL47:
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 16


 118:Core/Lib/fifo.c **** 		} else if (side == E_FIFO_BACK) {
 584              		.loc 1 118 22 view .LVU163
 585 002e 0161     		str	r1, [r0, #16]
 586              	.L37:
 123:Core/Lib/fifo.c **** 	}
 587              		.loc 1 123 3 is_stmt 1 view .LVU164
 123:Core/Lib/fifo.c **** 	}
 588              		.loc 1 123 10 is_stmt 0 view .LVU165
 589 0030 0120     		movs	r0, #1
 590              	.LVL48:
 126:Core/Lib/fifo.c **** 
 591              		.loc 1 126 1 view .LVU166
 592 0032 5DF8044B 		ldr	r4, [sp], #4
 593              	.LCFI9:
 594              		.cfi_remember_state
 595              		.cfi_restore 4
 596              		.cfi_def_cfa_offset 0
 597 0036 7047     		bx	lr
 598              	.LVL49:
 599              	.L36:
 600              	.LCFI10:
 601              		.cfi_restore_state
 119:Core/Lib/fifo.c **** 			fifo->writeoffset = (fifo->writeoffset - t) % fifo->allocatedbytes; // Decrease write pointer n 
 602              		.loc 1 119 10 is_stmt 1 view .LVU167
 119:Core/Lib/fifo.c **** 			fifo->writeoffset = (fifo->writeoffset - t) % fifo->allocatedbytes; // Decrease write pointer n 
 603              		.loc 1 119 13 is_stmt 0 view .LVU168
 604 0038 012A     		cmp	r2, #1
 605 003a F9D1     		bne	.L37
 120:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 606              		.loc 1 120 4 is_stmt 1 view .LVU169
 120:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 607              		.loc 1 120 29 is_stmt 0 view .LVU170
 608 003c C389     		ldrh	r3, [r0, #14]
 609 003e 9BB2     		uxth	r3, r3
 120:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 610              		.loc 1 120 43 view .LVU171
 611 0040 5B1A     		subs	r3, r3, r1
 120:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 612              		.loc 1 120 54 view .LVU172
 613 0042 8468     		ldr	r4, [r0, #8]
 120:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 614              		.loc 1 120 48 view .LVU173
 615 0044 B3FBF4F2 		udiv	r2, r3, r4
 616              	.LVL50:
 120:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 617              		.loc 1 120 48 view .LVU174
 618 0048 04FB1233 		mls	r3, r4, r2, r3
 120:Core/Lib/fifo.c **** 			fifo->storedbytes -= t; // Decrease stored bytes number
 619              		.loc 1 120 22 view .LVU175
 620 004c 9BB2     		uxth	r3, r3
 621 004e C381     		strh	r3, [r0, #14]	@ movhi
 121:Core/Lib/fifo.c **** 		}
 622              		.loc 1 121 4 is_stmt 1 view .LVU176
 121:Core/Lib/fifo.c **** 		}
 623              		.loc 1 121 22 is_stmt 0 view .LVU177
 624 0050 0369     		ldr	r3, [r0, #16]
 625 0052 591A     		subs	r1, r3, r1
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 17


 626              	.LVL51:
 121:Core/Lib/fifo.c **** 		}
 627              		.loc 1 121 22 view .LVU178
 628 0054 0161     		str	r1, [r0, #16]
 629 0056 EBE7     		b	.L37
 630              		.cfi_endproc
 631              	.LFE6:
 633              		.text
 634              	.Letext0:
 635              		.file 2 "/Users/javier/Library/xPacks/@xpack-dev-tools/arm-none-eabi-gcc/9.3.1-1.4.1/.content/lib/
 636              		.file 3 "/Users/javier/Library/xPacks/@xpack-dev-tools/arm-none-eabi-gcc/9.3.1-1.4.1/.content/arm-
 637              		.file 4 "/Users/javier/Library/xPacks/@xpack-dev-tools/arm-none-eabi-gcc/9.3.1-1.4.1/.content/arm-
 638              		.file 5 "/Users/javier/Library/xPacks/@xpack-dev-tools/arm-none-eabi-gcc/9.3.1-1.4.1/.content/arm-
 639              		.file 6 "/Users/javier/Library/xPacks/@xpack-dev-tools/arm-none-eabi-gcc/9.3.1-1.4.1/.content/arm-
 640              		.file 7 "/Users/javier/Library/xPacks/@xpack-dev-tools/arm-none-eabi-gcc/9.3.1-1.4.1/.content/arm-
 641              		.file 8 "/Users/javier/Library/xPacks/@xpack-dev-tools/arm-none-eabi-gcc/9.3.1-1.4.1/.content/arm-
 642              		.file 9 "Core/Lib/FIFO.h"
 643              		.file 10 "<built-in>"
ARM GAS  /var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 fifo.c
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:18     .text.fifo_copy_to:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:25     .text.fifo_copy_to:0000000000000000 fifo_copy_to
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:81     .text.fifo_copy_from:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:87     .text.fifo_copy_from:0000000000000000 fifo_copy_from
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:144    .text.fifo_create:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:151    .text.fifo_create:0000000000000000 fifo_create
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:249    .text.fifo_create_static:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:256    .text.fifo_create_static:0000000000000000 fifo_create_static
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:328    .text.fifo_is_full:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:335    .text.fifo_is_full:0000000000000000 fifo_is_full
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:367    .text.fifo_add:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:374    .text.fifo_add:0000000000000000 fifo_add
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:425    .text.fifo_is_empty:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:432    .text.fifo_is_empty:0000000000000000 fifo_is_empty
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:461    .text.fifo_get:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:468    .text.fifo_get:0000000000000000 fifo_get
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:519    .text.fifo_discard:0000000000000000 $t
/var/folders/jw/jcj5j9_530958b2rm5vp9wn00000gn/T//ccMi5FNz.s:526    .text.fifo_discard:0000000000000000 fifo_discard

UNDEFINED SYMBOLS
memcpy
malloc
free
